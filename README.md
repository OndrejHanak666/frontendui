# Autogenerated UI

Based on React, developed with vite stack.

## Automatic generation

This is autogenerated. To regenerate at any time you can execute js script in project root

```js
node tools/gen_ui.js
```

The result should be run with (see package.json)

```js
npm run dev
```

## What is generated

There are set of templates stored at `./tools/templates`. 

- The `AppRouter.jsx` file / template is explicitly generated
- From the directory `./tools/Pages` all files / templates are generated
- From the directory `./tools/Components` all files / templates are generated
- From the subdirectory `./tools/Components/SubObjectComponents` all files / templates are generated
- From the subdirectory `./tools/Components/SubVectorComponents` all files / templates are generated

## What data are used for generation

There is file `./tools/introspectionresponse.json` which contains the response to introspection query.
This is loaded, parsed somehow and used as source to generate source codes.

This does not works for all graphql cases. There are some limitations:
- It is expected that Query type has ById fields with one argument (id: UUID!) which returns optional single object, this set of fields is used to generated pages.
- It is expected that graphql types are named like UserGQLModel, GroupGQLModel etc.
- ...

## What generated source code offers

This depends on templated stored in directories as mentioned above, but
- For types there are 
    - Lazy wrapper which allows to wrap a component to create new component which asks for data from graphql server
    - Link which is clickable and which navigate to appropriate Page
    - MediumCard displaying Scalar attributes
    - LargeCardLayout and LargeCard displaying MediumCard and also cards for Scalar fields and Vector fields 
    - Set of Tables displaying Vector fields
    - ...
    
- For pages there are 
    - Pages for each type

## Post editing of generated source code

Since all generated source files have its hash (same file name with extra extension `.hash`), they are checked for changes.
If the source code hash is different than stored, this file is not generated / overriden. Also there is message about this skip.
